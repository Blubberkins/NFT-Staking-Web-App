"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9498],{59014:function(t,e,i){i.d(e,{n:function(){return normalizeChainId}});function normalizeChainId(t){return"string"==typeof t?Number.parseInt(t,"0x"===t.trim().substring(0,2)?16:10):"bigint"==typeof t?Number(t):t}},89498:function(t,e,i){i.d(e,{LocalWalletConnector:function(){return LocalWalletConnector}});var n=i(16074),s=i(69552),r=i(59014),a=i(27021),o=i(7457),h=i(73699),c=i(48088),d=i(56371);i(65007);let WrappedSigner=class WrappedSigner extends c.Signer{constructor(t){super(),this.signer=t,(0,d.defineReadOnly)(this,"provider",t.provider)}async getAddress(){return await this.signer.getAddress()}async signMessage(t){return await this.signer.signMessage(t)}async signTransaction(t){return await this.signer.signTransaction(t)}connect(t){return new WrappedSigner(this.signer.connect(t))}_signTypedData(t,e,i){return this.signer._signTypedData(t,e,i)}async sendTransaction(t){if(!this.provider)throw Error("Provider not found");let e=await (0,o.g)(this.provider),i={...e,...t};return await this.signer.sendTransaction(i)}};var l=new WeakMap,g=new WeakMap;let LocalWalletConnector=class LocalWalletConnector extends a.C{constructor(t){super(),(0,s._)(this,"id","local_wallet"),(0,s._)(this,"name","Local Wallet"),(0,n._)(this,l,{writable:!0,value:void 0}),(0,n._)(this,g,{writable:!0,value:void 0}),(0,s._)(this,"shimDisconnectKey","localWallet.shimDisconnect"),(0,s._)(this,"onChainChanged",t=>{let e=(0,r.n)(t),i=!this.options.chains.find(t=>t.chainId===e);this.emit("change",{chain:{id:e,unsupported:i}})}),this.options=t}async connect(t){t.chainId&&this.switchChain(t.chainId);let e=await this.getSigner(),i=await e.getAddress();return i}async disconnect(){(0,n.a)(this,l,void 0),(0,n.a)(this,g,void 0)}async getAddress(){let t=await this.getSigner();if(!t)throw Error("No signer found");return await t.getAddress()}async isConnected(){try{let t=await this.getAddress();return!!t}catch{return!1}}async getProvider(){return(0,n.b)(this,l)||(0,n.a)(this,l,(0,h.a_)(this.options.chain,{clientId:this.options.clientId,secretKey:this.options.secretKey})),(0,n.b)(this,l)}async getSigner(){if(!(0,n.b)(this,g)){let t=await this.getProvider();(0,n.a)(this,g,getSignerFromEthersWallet(this.options.ethersWallet,t))}return(0,n.b)(this,g)}async switchChain(t){let e=this.options.chains.find(e=>e.chainId===t);if(!e)throw Error(`Chain not found for chainId ${t}, please add it to the chains property when creating this wallet`);(0,n.a)(this,l,(0,h.a_)(e,{clientId:this.options.clientId,secretKey:this.options.secretKey})),(0,n.a)(this,g,getSignerFromEthersWallet(this.options.ethersWallet,(0,n.b)(this,l))),this.onChainChanged(t)}async setupListeners(){}updateChains(t){this.options.chains=t}};function getSignerFromEthersWallet(t,e){let i=t;return e&&(i=t.connect(e)),new WrappedSigner(i)}}}]);