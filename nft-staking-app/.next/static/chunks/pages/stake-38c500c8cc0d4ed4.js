(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8797],{54997:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return t(85630)}])},897:function(e,a,t){"use strict";t.d(a,{$0:function(){return s},UA:function(){return n},wL:function(){return o}});let n="0x86eAf8D635eb11D5CD801c41744F44e50d4fd8d2",o="0x12ea05ba6E8405cBeceB5b51134A821e86858F7E",s="0x830Ace54DFbf3a011601bD0Bc1f9806d45D2d0E4"},85630:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return stake}});var n=t(85893),o=t(14290),s=t(61744),i=t(67294),c=t(897),d=t(36612),l=t.n(d),components_NFTCard=e=>{let{tokenId:a}=e,{contract:t}=(0,o.cqn)(c.UA,"nft-drop"),{data:s}=(0,o.elG)(t,a);return(0,n.jsx)(n.Fragment,{children:s&&(0,n.jsxs)("div",{className:l().nftBox,children:[s.metadata&&(0,n.jsx)(o.CHu,{metadata:s.metadata,className:l().nftMedia}),(0,n.jsx)("h3",{children:s.metadata.name}),(0,n.jsx)(o.tnh,{action:e=>null==e?void 0:e.call("withdraw",[[s.metadata.id]]),contractAddress:c.$0,children:"Withdraw"})]})})},stake=()=>{var e;let a=(0,o.SFn)(),{contract:t}=(0,o.cqn)(c.UA,"nft-drop"),{contract:d}=(0,o.cqn)(c.wL,"token"),{contract:r,isLoading:m}=(0,o.cqn)(c.$0),{data:_}=(0,o.YZw)(t,a),{data:u}=(0,o.mMq)(d,a),[x,h]=(0,i.useState)(),{data:f}=(0,o.doQ)(r,"getStakeInfo",[a]);async function stakeNft(e){if(!a)return;let n=await (null==t?void 0:t.isApproved(a,c.$0));n||await (null==t?void 0:t.setApprovalForAll(c.$0,!0)),await (null==r?void 0:r.call("stake",[[e]]))}return((0,i.useEffect)(()=>{r&&a&&loadClaimableRewards();async function loadClaimableRewards(){let e=await (null==r?void 0:r.call("getStakeInfo",[a]));h(e[1])}},[a,r]),m)?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsx)("h1",{className:l().h1,children:"Stake Your NFTs"}),(0,n.jsx)("hr",{className:"".concat(l().divider," ").concat(l().spacerTop)}),a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:"Your Tokens"}),(0,n.jsxs)("div",{className:l().tokenGrid,children:[(0,n.jsxs)("div",{className:l().tokenItem,children:[(0,n.jsx)("h3",{className:l().tokenLabel,children:"Claimable Rewards"}),(0,n.jsxs)("p",{className:l().tokenValue,children:[(0,n.jsx)("b",{children:x?s.formatUnits(x,18):"Loading..."})," ",null==u?void 0:u.symbol]})]}),(0,n.jsxs)("div",{className:l().tokenItem,children:[(0,n.jsx)("h3",{className:l().tokenLabel,children:"Current Balance"}),(0,n.jsxs)("p",{className:l().tokenValue,children:[(0,n.jsx)("b",{children:null==u?void 0:u.displayValue})," ",null==u?void 0:u.symbol]})]})]}),(0,n.jsx)(o.tnh,{action:e=>e.call("claimRewards"),contractAddress:c.$0,children:"Claim Rewards"}),(0,n.jsx)("hr",{className:"".concat(l().divider," ").concat(l().spacerTop)}),(0,n.jsx)("h2",{children:"Your Staked NFTs"}),(0,n.jsx)("div",{className:l().nftBoxGrid,children:f&&(null===(e=f[0])||void 0===e?void 0:e.map(e=>(0,n.jsx)(components_NFTCard,{tokenId:e.toNumber()},e.toString())))}),(0,n.jsx)("hr",{className:"".concat(l().divider," ").concat(l().spacerTop)}),(0,n.jsx)("h2",{children:"Your Unstaked NFTs"}),(0,n.jsx)("div",{className:l().nftBoxGrid,children:null==_?void 0:_.map(e=>(0,n.jsxs)("div",{className:l().nftBox,children:[(0,n.jsx)(o.CHu,{metadata:e.metadata,className:l().nftMedia}),(0,n.jsx)("h3",{children:e.metadata.name}),(0,n.jsx)(o.tnh,{contractAddress:c.$0,action:()=>stakeNft(e.metadata.id),children:"Stake"})]},e.metadata.id.toString()))})]}):(0,n.jsx)(o.RZ8,{})]})}},36612:function(e){e.exports={container:"Home_container__d256j",h1:"Home_h1__Og92_",explain:"Home_explain__39qNx",divider:"Home_divider__RsgqR",smallDivider:"Home_smallDivider__npcyn",nftBoxGrid:"Home_nftBoxGrid__U9NtA",nftBox:"Home_nftBox__CZmhC",optionSelectBox:"Home_optionSelectBox__80y6V",selectBoxTitle:"Home_selectBoxTitle__JsNAm",selectBoxDescription:"Home_selectBoxDescription__oyRBu",tokenGrid:"Home_tokenGrid__CEeUG",tokenItem:"Home_tokenItem__f0Pgz",tokenLabel:"Home_tokenLabel__ujeyn",tokenValue:"Home_tokenValue__Ojsvg",center:"Home_center__O_TIN",spacerTop:"Home_spacerTop__uaMfK",bigSpacerTop:"Home_bigSpacerTop__y6qK0",spacerBottom:"Home_spacerBottom__66LZV",detailPageHr:"Home_detailPageHr__o7WhG",nftMedia:"Home_nftMedia__SCVOj"}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=54997)}),_N_E=e.O()}]);